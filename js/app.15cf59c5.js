(function(t){function e(e){for(var r,s,i=e[0],c=e[1],l=e[2],h=0,p=[];h<i.length;h++)s=i[h],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},n={app:0},o=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[a("v-toolbar-title",{staticClass:"headline"},[a("span",{staticClass:"font-weight-light"},[t._v("Spigot Drama Generator")]),a("v-btn",{attrs:{icon:"",href:"https://github.com/TheTechdoodle/spigot-drama-generator-frontend"}},[a("v-icon",[t._v("mdi-github")])],1)],1),a("v-spacer"),a("dark-switch")],1),a("v-main",[t.hasData?a("v-container",[a("v-row",{staticClass:"text-center"},[a("v-col",{attrs:{cols:"12"}},[a("random-generator")],1)],1),a("v-row",{staticClass:"text-center"},[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-card-text",{staticClass:"text-subtitle-1"},[a("span",{staticClass:"text-decoration-line-through"},[t._v("Steals")]),t._v(" Uses data from "),a("a",{attrs:{href:"https://github.com/md678685/spigot-drama-generator"}},[t._v(" md678685's Spigot Drama Generator ")])])],1)],1)],1)],1):a("v-container",[a("v-alert",{attrs:{color:"error"}},[t._v("Could not get data!")])],1)],1)],1)},o=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-switch",{attrs:{color:"accent","append-icon":t.icon,"hide-details":"",label:"Dark Mode"},model:{value:t.$vuetify.theme.dark,callback:function(e){t.$set(t.$vuetify.theme,"dark",e)},expression:"$vuetify.theme.dark"}})},i=[],c=a("a002"),l=a.n(c),d={name:"DarkSwitch",computed:{icon(){return"mdi-"+(this.$vuetify.theme.dark?"weather-night":"white-balance-sunny")}},watch:{"$vuetify.theme.dark":function(t){l.a.setItem("theme",t?"dark":"light")}},mounted(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{this.$vuetify.theme.dark=t.matches})}},h=d,p=a("2877"),u=a("6544"),v=a.n(u),m=a("b73d"),f=Object(p["a"])(h,s,i,!1,null,"2a0612d5",null),g=f.exports;v()(f,{VSwitch:m["a"]});var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-text",[a("p",{staticClass:"text-h4"},[t._v(t._s(t.statement))])]),a("v-card-actions",[a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-col",[a("v-btn",{attrs:{color:"success",large:""},on:{click:function(e){return t.regenerate()}}},[t._v(" Regenerate ")]),a("p",{staticClass:"text-caption font-weight-light"},[t._v("or press space")]),a("Keypress",{attrs:{"key-event":"keyup","key-code":32},on:{success:function(e){return t.regenerate()}}})],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"col-12 col-md-5"},[a("text-share",{attrs:{description:t.statement,value:t.shareUrl,label:"Link"}})],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"col-12 col-md-7"},[a("v-expansion-panels",[a("v-expansion-panel",[a("v-expansion-panel-header",[t._v("History")]),a("v-expansion-panel-content",[t.history.length>0?a("v-btn",{staticClass:"mb-3",attrs:{color:"error"},on:{click:t.clearHistory}},[t._v(" Clear History ")]):t._e(),a("v-list-item-group",t._l(t.history,(function(e){return a("v-list-item",{key:e.seed,on:{click:function(a){return t.regenerate(e.seed)}}},[a("v-list-item-content",[t._v(t._s(e.statement))]),a("v-list-item-icon",[a("v-icon",[t._v("mdi-backup-restore")])],1)],1)})),1)],1)],1)],1)],1)],1)],1)],1)],1)},b=[],w=a("e1bd"),x=a("365a"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-text-field",{attrs:{readonly:"",value:t.value,label:t.label}},[a("template",{slot:"append"},[a("v-btn",{attrs:{icon:"",title:"Copy to Clipboard",color:t.copyColor},on:{click:t.copy}},[a("v-icon",[t._v("mdi-clipboard-arrow-right-outline")])],1),t.canShare?a("v-btn",{attrs:{icon:"",title:"Share"},on:{click:t.share}},[a("v-icon",[t._v("mdi-share-variant")])],1):t._e()],1)],2)},V=[],k={name:"TextShare",props:{value:String,label:String,description:String},data:()=>({copyColor:""}),watch:{value(){this.copyColor=""}},methods:{copy(){window.navigator.clipboard.writeText(this.description+" - "+this.value).then(()=>{this.copyColor="success"})},share(){window.navigator.share({url:this.value,text:this.description})}},computed:{canShare(){return!!window.navigator.share}}},C=k,S=a("8336"),O=a("132d"),j=a("8654"),$=Object(p["a"])(C,_,V,!1,null,"34b3cd84",null),I=$.exports;v()($,{VBtn:S["a"],VIcon:O["a"],VTextField:j["a"]});const T=a("ae97");function D(t,e){return t[Math.floor(e()*t.length)]}var P={name:"RandomGenerator",components:{TextShare:I,Keypress:x["a"]},data:()=>({statement:"",seedStr:"",history:[]}),methods:{regenerate(t){this.seedStr=t||Object(w["a"])(5);const e=T(this.seedStr);let a=D(this.$dramaData.sentences,e);for(let r of a.match(/\[.+?]/g)){let t=r.slice(1,-1);this.$dramaData.combinations.hasOwnProperty(t)&&(a=a.replace(r,D(this.$dramaData.combinations[t],e)))}this.statement=a,t||(this.history.unshift({statement:a,seed:this.seedStr}),this.history.length>100&&this.history.pop(),l.a.setItem("history",this.history))},clearHistory(){this.history=[],l.a.setItem("history",[])}},computed:{shareUrl(){let t=new URL(window.location);return t.hash=this.seedStr,t.toString()}},created(){l.a.getItem("history").then(t=>{this.history=t||[],this.regenerate(window.location.hash.replace("#",""))})}},M=P,E=a("b0af"),L=a("99d9"),R=a("62ad"),A=a("a523"),G=a("cd55"),H=a("49e2"),B=a("c865"),J=a("0393"),U=a("da13"),K=a("5d23"),N=a("1baa"),F=a("34c3"),q=a("0fd9"),z=Object(p["a"])(M,y,b,!1,null,"58a4fffd",null),Q=z.exports;v()(z,{VBtn:S["a"],VCard:E["a"],VCardActions:L["a"],VCardText:L["b"],VCol:R["a"],VContainer:A["a"],VExpansionPanel:G["a"],VExpansionPanelContent:H["a"],VExpansionPanelHeader:B["a"],VExpansionPanels:J["a"],VIcon:O["a"],VListItem:U["a"],VListItemContent:K["a"],VListItemGroup:N["a"],VListItemIcon:F["a"],VRow:q["a"]});var W={name:"App",components:{RandomGenerator:Q,DarkSwitch:g},computed:{hasData(){return null!==this.$dramaData}}},X=W,Y=a("0798"),Z=a("7496"),tt=a("40dc"),et=a("f6c4"),at=a("2fa4"),rt=a("2a7f"),nt=Object(p["a"])(X,n,o,!1,null,null,null),ot=nt.exports;async function st(){const t=await(await fetch("https://raw.githubusercontent.com/md678685/spigot-drama-generator/master/index.js")).text();let e=/combinations = ({(?:.*\n)*?\s*})/g.exec(t)[1];e=e.replace(/(\w+):/g,'"$1":');let a=/sentences = (\[(?:.*\n)*?\s*])/g.exec(t)[1];return a=a.replace(/,\n\s*]/,"]"),{combinations:JSON.parse(e),sentences:JSON.parse(a)}}v()(nt,{VAlert:Y["a"],VApp:Z["a"],VAppBar:tt["a"],VBtn:S["a"],VCard:E["a"],VCardText:L["b"],VCol:R["a"],VContainer:A["a"],VIcon:O["a"],VMain:et["a"],VRow:q["a"],VSpacer:at["a"],VToolbarTitle:rt["a"]});var it=a("f309");l.a.config({name:"spigot-drama-generator-frontend"}),r["a"].config.productionTip=!1,r["a"].use(it["a"]),(async()=>{let t=await l.a.getItem("theme"),e=null;try{e=await st()}catch(a){}r["a"].prototype.$dramaData=e,t||(t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),new r["a"]({vuetify:new it["a"]({theme:{dark:"light"!==t}}),render:function(t){return t(ot)}}).$mount("#app")})()}});
//# sourceMappingURL=app.15cf59c5.js.map